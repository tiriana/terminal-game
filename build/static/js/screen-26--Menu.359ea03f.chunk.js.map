{"version":3,"sources":["components/screens/Menu/Menu.module.scss","components/Glitch/Heavy.module.scss","components/Glitch/Heavy.jsx","components/screens/Menu/index.jsx"],"names":["module","exports","menuItem","active","glitch-wrapper","glitch","glitch-anim-2","glitch-anim","Heavy","children","arguments","length","undefined","react_default","a","createElement","className","styles","glitchWrapper","data-text","String","split","reverse","join","OneTime","_ref2","_ref2$duration","duration","props","Object","objectWithoutProperties","timeout","useRef","_useState","useState","_useState2","slicedToArray","finished","setFinished","useEffect","current","setTimeout","clearTimeout","Heavy_Heavy","MenuItem","_ref","Text","cln","Heavy_OneTime","items","key","getText","goto","__webpack_exports__","activeItem","setActiveItem","console","log","KeyboardEventHandler","onKeyEvent","KEY_ESC","history","push","KEY_ENTER","diff","Math","max","min","handleKeys","KEY_ARROW_UP","KEY_ARROW_DOWN","Screen","map","Menu_MenuItem"],"mappings":"gFACAA,EAAAC,QAAA,CAAkBC,SAAA,uBAAAC,OAAA,2CCAlBH,EAAAC,QAAA,CAAkBG,iBAAA,8BAAAC,OAAA,sBAAAC,gBAAA,6BAAAC,cAAA,0KCEZC,EAAQ,eAAGC,GAAHC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAgB,IAAbD,SAAH,OACZI,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOC,eACrBL,EAAAC,EAAAC,cAAA,OACEC,UAAWC,IAAOZ,OAClBc,YAAWC,OAAOX,GACfY,MAAM,IACNC,UACAC,KAAK,KAEPd,KAOMe,EAAU,SAAAC,GAAmC,IAAAC,EAAAD,EAAhCE,gBAAgC,IAAAD,EAArB,IAAqBA,EAAZE,EAAYC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,cAClDM,EAAUC,mBADwCC,EAExBC,oBAAS,GAFeC,EAAAN,OAAAO,EAAA,EAAAP,CAAAI,EAAA,GAEjDI,EAFiDF,EAAA,GAEvCG,EAFuCH,EAAA,GASxD,OANAI,oBAAU,WAGR,OAFAR,EAAQS,QAAUC,WAAW,kBAAMH,GAAY,IAAOX,GAE/C,kBAAMe,aAAaX,EAAQS,YAG7BH,EAAWT,EAAMnB,SAAWI,EAAAC,EAAAC,cAAC4B,EAAUf,ICf1CgB,EAAW,WAA+B,IAAAC,EAAAnC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAArBD,EAA4BoC,EAA5BpC,SAAUN,EAAkB0C,EAAlB1C,OAO5B,OALEU,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CAAS9B,UAAW+B,YAAI9B,IAAOf,SAAUC,EAASc,IAAOd,OAAS,KAC/DA,EAASU,EAAAC,EAAAC,cAACiC,EAAD,KAAQvC,GAAoBA,IAOtCwC,EAAQ,CACZ,CACEC,IAAK,QACLC,QAAS,iBAAM,SACfC,KAAM,SAER,CACEF,IAAK,UACLC,QAAS,iBAAM,WACfC,KAAM,WAER,CACEF,IAAK,UACLC,QAAS,iBAAM,WACfC,KAAM,YAIKC,EAAA,iBAAAzB,GAAS,IAAAK,EACcC,mBAAS,GADvBC,EAAAN,OAAAO,EAAA,EAAAP,CAAAI,EAAA,GACfqB,EADenB,EAAA,GACHoB,EADGpB,EAAA,GAmBtB,OAFAqB,QAAQC,IAAI,CAAEH,eAGZzC,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAsBC,WAjBN,SAAAT,GAChB,GAAIA,IAAQU,IACV,OAAOhC,EAAMiC,QAAQC,KAAK,KAG5B,GAAIZ,IAAQa,IACV,OAAOnC,EAAMiC,QAAQC,KAAK,IAAMb,EAAMK,GAAYF,MAGpD,IAAMY,EAAe,cAARd,EAAsB,GAAK,EAExCK,EAAc,SAAAD,GAAU,OAAIW,KAAKC,IAAID,KAAKE,IAAIb,EAAaU,EAAMf,EAAMtC,OAAS,GAAI,MAMvCyD,WAAY,CAACR,IAASG,IAAWM,IAAcC,MAC1FzD,EAAAC,EAAAC,cAACwD,EAAA,WAAD,MACA1D,EAAAC,EAAAC,cAACwD,EAAA,eAAD,KACGtB,EAAMuB,IAAI,SAAA/C,GAAsB,IAAnByB,EAAmBzB,EAAnByB,IAAKC,EAAc1B,EAAd0B,QACjB,OACEtC,EAAAC,EAAAC,cAAC0D,EAAD,CAAUtE,OAAQ8C,EAAMK,GAAYJ,MAAQA,EAAKA,IAAKA,GACnDC","file":"static/js/screen-26--Menu.359ea03f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuItem\":\"Menu_menuItem__eT3K4\",\"active\":\"Menu_active__Uj2a0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitch-wrapper\":\"Heavy_glitch-wrapper__26hHC\",\"glitch\":\"Heavy_glitch__3_wuo\",\"glitch-anim-2\":\"Heavy_glitch-anim-2__1KNjl\",\"glitch-anim\":\"Heavy_glitch-anim__2nkH0\"};","import React, { useEffect, useRef, useState } from \"react\";\nimport styles from \"./Heavy.module.scss\";\n\nconst Heavy = ({ children } = {}) => (\n  <div className={styles.glitchWrapper}>\n    <div\n      className={styles.glitch}\n      data-text={String(children)\n        .split(\"\")\n        .reverse()\n        .join(\"\")}\n    >\n      {children}\n    </div>\n  </div>\n);\n\nexport default Heavy;\n\nexport const OneTime = ({ duration = 1000, ...props }) => {\n  const timeout = useRef();\n  const [finished, setFinished] = useState(false);\n  useEffect(() => {\n    timeout.current = setTimeout(() => setFinished(true), duration);\n\n    return () => clearTimeout(timeout.current);\n  });\n\n  return finished ? props.children : <Heavy {...props} />;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { ScreenCentered, Background } from \"components/screens/Screen/Screen\";\nimport { BigText } from \"components/Text/Text\";\nimport styles from \"./Menu.module.scss\";\nimport cln from \"utils/classnames\";\nimport KeyboardEventHandler, {\n  KEY_ESC,\n  KEY_ENTER,\n  KEY_ARROW_UP,\n  KEY_ARROW_DOWN,\n} from \"components/Input/Keyboard/KeyboardEventHandler\";\nimport { OneTime as Heavy } from \"components/Glitch/Heavy\";\n\nconst MenuItem = ({ children, active } = {}) => {\n  const item = (\n    <BigText className={cln(styles.menuItem, active ? styles.active : \"\")}>\n      {active ? <Heavy>{children}</Heavy> : children}\n    </BigText>\n  );\n\n  return item;\n};\n\nconst items = [\n  {\n    key: \"start\",\n    getText: () => \"Start\",\n    goto: \"lobby\",\n  },\n  {\n    key: \"options\",\n    getText: () => \"Options\",\n    goto: \"options\",\n  },\n  {\n    key: \"credits\",\n    getText: () => \"Credits\",\n    goto: \"credits\",\n  },\n];\n\nexport default props => {\n  const [activeItem, setActiveItem] = useState(0);\n\n  const handleKey = key => {\n    if (key === KEY_ESC) {\n      return props.history.push(\"/\");\n    }\n\n    if (key === KEY_ENTER) {\n      return props.history.push(\"/\" + items[activeItem].goto);\n    }\n\n    const diff = key === \"ArrowDown\" ? 1 : -1;\n\n    setActiveItem(activeItem => Math.max(Math.min(activeItem + diff, items.length - 1), 0));\n  };\n\n  console.log({ activeItem });\n\n  return (\n    <KeyboardEventHandler onKeyEvent={handleKey} handleKeys={[KEY_ESC, KEY_ENTER, KEY_ARROW_UP, KEY_ARROW_DOWN]}>\n      <Background />\n      <ScreenCentered>\n        {items.map(({ key, getText }) => {\n          return (\n            <MenuItem active={items[activeItem].key === key} key={key}>\n              {getText()}\n            </MenuItem>\n          );\n        })}\n      </ScreenCentered>\n    </KeyboardEventHandler>\n  );\n};\n"],"sourceRoot":""}