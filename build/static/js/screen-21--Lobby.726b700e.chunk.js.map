{"version":3,"sources":["components/screens/Lobby/Lobby.module.scss","_OLD/components/lib/sounds.js","_OLD/components/Cursor/index.jsx","_OLD/components/NameInput/index.jsx","_OLD/components/Cursor/styles.module.scss","_OLD/resources/audio/TYPE.mp3","_OLD/resources/audio/wrong_letter.mp3","_OLD/resources/audio/1beep.mp3","_OLD/resources/audio/CorrectAnswer.mp3","_OLD/resources/audio/SkipQuestion.mp3","_OLD/api/mock/game.js","api.js","components/screens/Lobby/index.jsx"],"names":["module","exports","menuItem","active","__webpack_require__","d","__webpack_exports__","playTypingSound","playWrongLetterSound","playBeep","playCorrectAnswerSound","playSkippedQuestionSound","howler__WEBPACK_IMPORTED_MODULE_0__","_resources_audio_TYPE_mp3__WEBPACK_IMPORTED_MODULE_1__","_resources_audio_TYPE_mp3__WEBPACK_IMPORTED_MODULE_1___default","n","_resources_audio_wrong_letter_mp3__WEBPACK_IMPORTED_MODULE_2__","_resources_audio_wrong_letter_mp3__WEBPACK_IMPORTED_MODULE_2___default","_resources_audio_1beep_mp3__WEBPACK_IMPORTED_MODULE_3__","_resources_audio_1beep_mp3__WEBPACK_IMPORTED_MODULE_3___default","_resources_audio_CorrectAnswer_mp3__WEBPACK_IMPORTED_MODULE_4__","_resources_audio_CorrectAnswer_mp3__WEBPACK_IMPORTED_MODULE_4___default","_resources_audio_SkipQuestion_mp3__WEBPACK_IMPORTED_MODULE_5__","_resources_audio_SkipQuestion_mp3__WEBPACK_IMPORTED_MODULE_5___default","play","soundTyping","wrongLetter","beep","correctAnswer","skippedQuestion","howls","base64","Howl","src","concat","loop","preload","getHowl","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default","Cursor","a","createElement","className","styles","blinker","keycode","require","NameInput","_getPrototypeOf2","_this","Object","_home_egnyte_dev_pgg_terminal_game_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","_home_egnyte_dev_pgg_terminal_game_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_egnyte_dev_pgg_terminal_game_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","onKeyPressed","e","props","keyCode","onEnter","state","name","setState","slice","onEscapePress","char","test","toUpperCase","document","addEventListener","removeEventListener","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","onKeyDown","event","_Cursor__WEBPACK_IMPORTED_MODULE_6__","React","Component","p","r","createSession","getNextQuestion","saveGoodAnswer","saveBadAnswer","skipQuestion","saveWinGame","saveLoseGame","getLeaderboard","numOfSessions","questionsMock","id","question","answer","leaderBoard","playerId","playerName","result","answered","questionsLeftInSession","_ref","Promise","resolve","reject","setTimeout","startsWith","response","status","data","errorDesc","sort","Math","random","sessionId","_ref2","pop","_ref3","questionId","_ref4","_ref5","_ref6","score","_ref7","api","_useAppContext","useAppContext","setError","setLoading","setSession","react_default","Fragment","Screen","Text","history","push","then","catch","error","finally"],"mappings":"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","file":"static/js/screen-21--Lobby.726b700e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuItem\":\"Lobby_menuItem__3vhGI\",\"active\":\"Lobby_active__3ZLrF\"};","import { Howl, Howler } from \"howler\";\nimport soundTyping from \"../../resources/audio/TYPE.mp3\";\nimport wrongLetter from \"../../resources/audio/wrong_letter.mp3\";\nimport beep from \"../../resources/audio/1beep.mp3\";\nimport correctAnswer from \"../../resources/audio/CorrectAnswer.mp3\";\nimport skippedQuestion from \"../../resources/audio/SkipQuestion.mp3\"\n\nexport const playTypingSound = () => play(soundTyping);\nexport const playWrongLetterSound = () => play(wrongLetter);\nexport const playBeep = () => play(beep);\nexport const playCorrectAnswerSound = () => play(correctAnswer);\nexport const playSkippedQuestionSound = () => play(skippedQuestion);\n\nconst howls = {};\nconst getHowl = base64 => {\n  if (!howls[base64]) {\n    howls[base64] = new Howl({\n      src: [base64, `data:audio/mp3;base64,${base64}`],\n      loop: false,\n      preload: true\n    });\n  }\n\n  return howls[base64];\n}\nconst play = base64 => {\n  getHowl(base64).play();\n};\n","import React from \"react\";\nimport styles from \"./styles.module.scss\";\n\nconst Cursor = () => <span className={styles.blinker}>█</span>;\n\nexport default Cursor;\n","import React from \"react\";\nimport Cursor from \"../Cursor\";\n\nimport { playTypingSound } from \"../lib/sounds\";\n\nconst keycode = require(\"keycode\");\n\nclass NameInput extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n    };\n  }\n\n  componentWillMount() {\n    document.addEventListener(\"keydown\", this.onKeyPressed);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onKeyPressed);\n  }\n\n  onKeyPressed = e => {\n    this.props.onKeyPressed && this.props.onKeyPressed(e);\n\n    if (keycode(\"enter\") === e.keyCode) {\n      this.props.onEnter(this.state.name);\n      playTypingSound();\n    }\n    if (keycode(\"backspace\") === e.keyCode && this.state.name.length > 0) {\n      playTypingSound();\n      return this.setState(state => ({\n        name: state.name.slice(0, -1),\n      }));\n    }\n\n    if (keycode(e.keyCode) === \"esc\") {\n      playTypingSound();\n      this.props.onEscapePress();\n    }\n\n    let char = keycode(e.keyCode);\n    if (keycode(e.keyCode) === \"space\") {\n      char = \" \";\n    }\n\n    if (/[ 0-9a-z]/.test(char) && char.length === 1) {\n      playTypingSound();\n      return this.setState(state => ({\n        name: (state.name + char.toUpperCase()).slice(0, 20),\n      }));\n    }\n  };\n\n  render() {\n    return (\n      <span onKeyDown={event => this.onKeyDown(event)}>\n        {this.state.name}\n        <Cursor />\n      </span>\n    );\n  }\n}\n\nexport default NameInput;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blinker\":\"styles_blinker__1UIID\"};","module.exports = __webpack_public_path__ + \"static/media/TYPE.eaabe2f1.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wrong_letter.b23be0a5.mp3\";","module.exports = __webpack_public_path__ + \"static/media/1beep.cbfc1bc3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/CorrectAnswer.ae5b2a24.mp3\";","module.exports = __webpack_public_path__ + \"static/media/SkipQuestion.05e50d7d.mp3\";","let numOfSessions = 0;\n\nconst questionsMock = [\n  {\n    id: 1,\n    question: \"Słownie 1 + 1\",\n    answer: \"DWA\",\n  },\n  {\n    id: 2,\n    question: \"Słownie 1 + 2\",\n    answer: \"TRZY\",\n  },\n  {\n    id: 3,\n    question: \"Dwa wyrazy\",\n    answer: \"Dwa wyrazy\",\n  },\n  {\n    id: 4,\n    question: \"Wpisz aż pięć wyrazów\",\n    answer: \"Wpisz aż pięć wyrazów\",\n  },\n  {\n    id: 5,\n    question: \"Twoja stara je\",\n    answer: \"Banana\",\n  },\n  {\n    id: 6,\n    question: \"Najdłuższe polskie słowo\",\n    answer: \"Nie znam\",\n  },\n];\n\nconst leaderBoard = [\n  {\n    playerId: \"3211\",\n    playerName: \"Staszek\",\n    result: 12343,\n    answered: 15,\n  },\n  {\n    playerId: \"3211\",\n    playerName: \"Zdzisiek\",\n    result: 4312,\n    answered: 3,\n  },\n  {\n    playerId: \"3211\",\n    playerName: \"stefan\",\n    result: 33123,\n    answered: 54,\n  },\n];\n\nconst questionsLeftInSession = {};\n\nexport const createSession = ({ playerName }) =>\n  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (playerName.startsWith(\"A\")) {\n        return reject({\n          response: {\n            status: 400,\n            data: {\n              errorDesc: \"Taki gracz już istnieje. To jest API MOCK. Użyj imienia nie na 'A'\",\n            },\n          },\n        });\n      }\n\n      ++numOfSessions;\n      questionsLeftInSession[numOfSessions] = [...questionsMock].sort(Math.random);\n      resolve({ sessionId: numOfSessions });\n    }, 5000);\n  });\n\nexport const getNextQuestion = ({ sessionId }) =>\n  new Promise(resolve => {\n    setTimeout(() => {\n      resolve(questionsLeftInSession[numOfSessions].pop());\n    }, 500);\n  });\n\nexport const saveGoodAnswer = ({ sessionId, questionId }) =>\n  new Promise(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, 500);\n  });\n\nexport const saveBadAnswer = ({ sessionId, questionId }) =>\n  new Promise(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, 500);\n  });\n\nexport const skipQuestion = ({ sessionId, questionId }) =>\n  new Promise(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, 500);\n  });\n\nexport const saveWinGame = ({ sessionId, score }) =>\n  new Promise(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, 500);\n  });\n\nexport const saveLoseGame = ({ sessionId, score }) =>\n  new Promise(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, 500);\n  });\n\nexport const getLeaderboard = () =>\n  new Promise(resolve => {\n    setTimeout(() => {\n      resolve({ leaderBoard: leaderBoard });\n    }, 500);\n  });\n","import * as api from \"./_OLD/api/mock/game\";\n\nexport default api;\n","import React, { useEffect, useState } from \"react\";\nimport { ScreenCentered, Background } from \"components/screens/Screen/Screen\";\nimport { BigText } from \"components/Text/Text\";\nimport styles from \"./Lobby.module.scss\";\nimport { useAppContext } from \"appContext\";\nimport NameInput from \"_OLD/components/NameInput\"; // TODO rewrite to new architecture\nimport api from \"api\";\n\nexport default props => {\n  const { setError, setLoading, setSession } = useAppContext();\n\n  const onNameEntered = playerName => {\n    setLoading(true);\n    api\n      .createSession({ playerName })\n      .then(setSession)\n      .catch(error => {\n        if (error.response.status === 400) {\n          return setError(error.response.data.errorDesc);\n        }\n        throw error;\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <>\n      <Background />\n      <ScreenCentered>\n        <BigText>Podaj imię:</BigText>\n        <BigText>\n          <NameInput\n            onKeyPressed={() => setError(\"\")}\n            onEscapePress={() => props.history.push(\"/menu\")}\n            onEnter={onNameEntered}\n          />\n        </BigText>\n      </ScreenCentered>\n    </>\n  );\n};\n"],"sourceRoot":""}