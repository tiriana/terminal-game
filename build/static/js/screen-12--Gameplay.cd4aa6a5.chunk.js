(window.webpackJsonp=window.webpackJsonp||[]).push([[2,11],{158:function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return w});var r=n(163),a=n(164),i=n.n(a),s=n(165),o=n.n(s),c=n(166),u=n.n(c),l=n(167),m=n.n(l),p=n(168),d=n.n(p),f=function(){return E(i.a)},h=function(){return E(o.a)},y=function(){return E(u.a)},v=function(){return E(m.a)},w=function(){return E(d.a)},b={},E=function(e){(function(e){return b[e]||(b[e]=new r.Howl({src:[e,"data:audio/mp3;base64,".concat(e)],loop:!1,preload:!0})),b[e]})(e).play()}},159:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(162),s=n.n(i);t.a=function(){return a.a.createElement("span",{className:s.a.blinker},"\u2588")}},161:function(e,t,n){"use strict";var r=n(153),a=n(154),i=n(157),s=n(155),o=n(156),c=n(0),u=n.n(c),l=n(159),m=n(158),p=n(160),d=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).onKeyPressed=function(e){if(n.props.onKeyPressed&&n.props.onKeyPressed(e),p("enter")===e.keyCode&&(n.props.onEnter(n.state.name),Object(m.d)()),p("backspace")===e.keyCode&&n.state.name.length>0)return Object(m.d)(),n.setState(function(e){return{name:e.name.slice(0,-1)}});"esc"===p(e.keyCode)&&(Object(m.d)(),n.props.onEscapePress());var t=p(e.keyCode);return"space"===p(e.keyCode)&&(t=" "),/[ 0-9a-z]/.test(t)&&1===t.length?(Object(m.d)(),n.setState(function(e){return{name:(e.name+t.toUpperCase()).slice(0,20)}})):void 0},n.state={name:""},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("keydown",this.onKeyPressed)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPressed)}},{key:"render",value:function(){var e=this;return u.a.createElement("span",{onKeyDown:function(t){return e.onKeyDown(t)}},this.state.name,u.a.createElement(l.a,null))}}]),t}(u.a.Component);t.a=d},162:function(e,t,n){e.exports={blinker:"styles_blinker__1UIID"}},164:function(e,t,n){e.exports=n.p+"static/media/TYPE.eaabe2f1.mp3"},165:function(e,t,n){e.exports=n.p+"static/media/wrong_letter.b23be0a5.mp3"},166:function(e,t,n){e.exports=n.p+"static/media/1beep.cbfc1bc3.mp3"},167:function(e,t,n){e.exports=n.p+"static/media/CorrectAnswer.ae5b2a24.mp3"},168:function(e,t,n){e.exports=n.p+"static/media/SkipQuestion.05e50d7d.mp3"},169:function(e,t,n){"use strict";var r=[],a="",i="warning",s="danger",o=function(e){return r.forEach(function(t){return t(e)})};t.a={onChanged:function(e){return r.push(e)},setNormal:function(){return o(a)},setWarning:function(){return o(i)},setDanger:function(){return o(s)}}},170:function(e,t,n){"use strict";n.r(t),n.d(t,"createSession",function(){return o}),n.d(t,"getNextQuestion",function(){return c}),n.d(t,"saveGoodAnswer",function(){return u}),n.d(t,"saveBadAnswer",function(){return l}),n.d(t,"skipQuestion",function(){return m}),n.d(t,"saveWinGame",function(){return p}),n.d(t,"saveLoseGame",function(){return d}),n.d(t,"getLeaderboard",function(){return f});var r=0,a=[{id:1,question:"S\u0142ownie 1 + 1",answer:"DWA"},{id:2,question:"S\u0142ownie 1 + 2",answer:"TRZY"},{id:3,question:"Dwa wyrazy",answer:"Dwa wyrazy"},{id:4,question:"Wpisz a\u017c pi\u0119\u0107 wyraz\xf3w",answer:"Wpisz a\u017c pi\u0119\u0107 wyraz\xf3w"},{id:5,question:"Twoja stara je",answer:"Banana"},{id:6,question:"Najd\u0142u\u017csze polskie s\u0142owo",answer:"Nie znam"}],i=[{playerId:"3211",playerName:"Staszek",result:12343,answered:15},{playerId:"3211",playerName:"Zdzisiek",result:4312,answered:3},{playerId:"3211",playerName:"stefan",result:33123,answered:54}],s={},o=function(e){var t=e.playerName;return new Promise(function(e,n){setTimeout(function(){if(t.startsWith("A"))return n({response:{status:400,data:{errorDesc:"Taki gracz ju\u017c istnieje. To jest API MOCK. U\u017cyj imienia nie na 'A'"}}});s[++r]=[].concat(a).sort(Math.random),e({sessionId:r})},5e3)})},c=function(e){e.sessionId;return new Promise(function(e){setTimeout(function(){e(s[r].pop())},500)})},u=function(e){e.sessionId,e.questionId;return new Promise(function(e){setTimeout(function(){e()},500)})},l=function(e){e.sessionId,e.questionId;return new Promise(function(e){setTimeout(function(){e()},500)})},m=function(e){e.sessionId,e.questionId;return new Promise(function(e){setTimeout(function(){e()},500)})},p=function(e){e.sessionId,e.score;return new Promise(function(e){setTimeout(function(){e()},500)})},d=function(e){e.sessionId,e.score;return new Promise(function(e){setTimeout(function(){e()},500)})},f=function(){return new Promise(function(e){setTimeout(function(){e({leaderBoard:i})},500)})}},174:function(e,t,n){e.exports={countdown:"Countdown_countdown__724C8",number:"Countdown_number__1xJDd",zoomin:"Countdown_zoomin__3XDkm"}},175:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(206),s=(n(200),n(170)),o=n(202);t.a=Object(o.hot)(e)(function(){return a.a.createElement(i.a,{api:s})})}).call(this,n(176)(e))},178:function(e,t,n){},185:function(e,t,n){e.exports=n.p+"static/media/Lost_Years_-_West_Side_Lane_(Mega_Drive-Genesis_Arrange).a2b0b3f3.mp3"},186:function(e,t,n){e.exports=n.p+"static/media/TimeEnd_explosion.2ffbe1ac.mp3"},187:function(e,t,n){e.exports={letter:"AnswerTiles_letter__1cg5z",empty:"AnswerTiles_empty__2qPhD",wordWrapper:"AnswerTiles_wordWrapper__1bbOx",word:"AnswerTiles_word__2pUch",incorrect:"AnswerTiles_incorrect__3gadw",blinker:"AnswerTiles_blinker__2SXwq",correctAnswer:"AnswerTiles_correctAnswer__aVS2P"}},189:function(e,t,n){e.exports={timer:"styles_timer__38hEE"}},195:function(e,t,n){e.exports={red:"mainScene_red__118Yx",blue:"mainScene_blue__39u8Q",clockWrapper:"mainScene_clockWrapper__2WEpI",timeDiff:"mainScene_timeDiff__h_7Q2",fadeOut:"mainScene_fadeOut__nQy1j",categoryName:"mainScene_categoryName__26Bo7",questionContent:"mainScene_questionContent__2rPGz",points:"mainScene_points__1eEMy",description:"mainScene_description__3Jj5h"}},196:function(e,t,n){e.exports=n.p+"static/media/happyface.1f3e9da8.png"},197:function(e,t,n){e.exports=n.p+"static/media/end_explosion.03bbbe6e.png"},198:function(e,t,n){e.exports=n.p+"static/media/pggbomb_logo.d7406a87.png"},199:function(e,t,n){e.exports={wrapper:"leaderboard_wrapper__1Qhgy",playerName:"leaderboard_playerName__Eu2J4",playerScore:"leaderboard_playerScore__3dI2Y",clear:"leaderboard_clear__3zYHs",scoreTitle:"leaderboard_scoreTitle__1ZpHj"}},200:function(e,t,n){"use strict";var r=n(153),a=n(154),i=n(157),s=n(155),o=n(156),c=n(0),u=n.n(c),l=(n(201),n(169));u.a.Component},201:function(e,t,n){e.exports=n.p+"static/media/styles.global.caa5ffc3.less"},206:function(e,t,n){"use strict";var r,a=n(153),i=n(154),s=n(157),o=n(155),c=n(156),u=n(0),l=n.n(u),m={MENU:"MENU",MAIN:"MAIN",LOSE:"LOSE",WIN:"WIN",LEADERBOARD:"LEADERBOARD",IDLE:"IDLE"},p=n(10),d=n.n(p),f=(d.a.shape({createSession:d.a.func.isRequired,getNextQuestion:d.a.func.isRequired,saveGoodAnswer:d.a.func.isRequired,saveBadAnswer:d.a.func.isRequired,skipQuestion:d.a.func.isRequired,saveWinGame:d.a.func.isRequired,saveLoseGame:d.a.func.isRequired,getLeaderboard:d.a.func.isRequired}),n(177)),h=(n(178),n(205)),y="|/-\\".length,v=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(s.a)(this,Object(o.a)(t).call(this))).incrementStep=function(){e.setState(function(e){return{step:(e.step+1)%y}})},e.state={step:0},e}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return l.a.createElement(h.a,{size:25,color:"#14fdce"})}}]),t}(l.a.Component),w=n(161),b=n(163),E=n(185),g=n.n(E),k=n(186),O=n.n(k),A={},S=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return A[e]||(A[e]=new b.Howl({src:[e,"data:audio/mp3;base64,".concat(e)],loop:t,preload:!0})),A[e]};S(g.a),S(O.a,!1);var j=function(e){r!==e&&(r&&S(r).stop(),S(e).play(),r=e)},_=function(e){r!==e&&(r&&S(r).stop(),S(e,!1).play(),r=e)},T={fontSize:"5rem"},I={fontSize:"37px"},L={color:"#ff2a2a",textShadow:"0rem 0.2rem 1rem #ff4a15",fontSize:"49px"},N=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.setState({errorDesc:""})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{style:T},"LOADING PROGRAM: PGG BOMB"),l.a.createElement("p",{style:I},"Witaj podr\xf3\u017cniku. Zagrajmy w gr\u0119..."),l.a.createElement("div",{style:I},"Podaj swoje imi\u0119: ",l.a.createElement(w.a,{onEnter:this.props.onNameEntered,onEscapePress:this.props.onEscapePress})),this.props.errorDesc.length>0&&l.a.createElement("div",{style:L},this.props.errorDesc))}}]),t}(l.a.Component),D=n(207),P=n(171),C=n(23),x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).onKeydown=function(e){return n.props.callback(e)},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("keydown",this.onKeydown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeydown)}},{key:"render",value:function(){return null}}]),t}(l.a.Component),W=n(160),M=function(e){var t=e.callback;return l.a.createElement(x,{callback:function(e){var n=W(e.keyCode);/[0-9a-z]/i.test(n)&&1===n.length&&t(n)}})},R=n(187),q=n.n(R),K=n(188),z=n(158),B=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).onLetter=function(e){(e=Object(K.remove)(e.toUpperCase()))===Object(K.remove)(n.props.expected.toUpperCase())?n.props.onCorrect(e):n.props.onIncorrect(e)},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:[q.a.letter,this.props.incorrect&&q.a.incorrect,!this.props.incorrect&&!this.props.visible&&q.a.empty].join(" ")},this.props.incorrect||this.props.visible&&this.props.expected.toUpperCase()||".",this.props.hasFocus&&l.a.createElement(M,{callback:this.onLetter}))}}]),t}(l.a.Component);B.defaultProps={visible:!1,incorrect:!1};var G=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).renderLettersTiles=function(){var e=0,t=n.props.correctAnswer.split(" ").map(function(t,r){return l.a.createElement("div",{className:q.a.word,key:"word_".concat(r)},t.split("").map(function(t){var r=e++;return l.a.createElement(B,{key:"letter_".concat(r),expected:t,visible:!!n.state.visibleLetters[r],incorrect:r===n.state.incorrectLetterIndex&&n.state.incorrectLetter,hasFocus:!n.state.isCorrectAnswer&&n.state.canType&&n.state.focusedLetter===r,onCorrect:function(t){Object(z.d)(),n.setState(function(n){var a=Object(C.a)(n.visibleLetters);return a[r]=t,{visibleLetters:a,focusedLetter:n.focusedLetter+1,isCorrectAnswer:n.focusedLetter===e-1}})},onIncorrect:function(e){Object(z.e)(),n.props.onWrongLetter(),n.setState({canType:!1,incorrectLetterIndex:r,incorrectLetter:e},function(){setTimeout(function(){n.setState({canType:!0,incorrectLetterIndex:null,incorrectLetter:""})},500)})}})}))});return l.a.createElement("div",{className:q.a.wordWrapper},t)},n.state={canType:!0,focusedLetter:0,visibleLetters:[],incorrectLetterIndex:null,incorrectLetter:"",isCorrectAnswer:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){!1===t.isCorrectAnswer&&!0===this.state.isCorrectAnswer&&this.props.onCorrectAnswer()}},{key:"render",value:function(){return l.a.createElement("div",{className:[this.state.isCorrectAnswer&&q.a.correctAnswer]},this.renderLettersTiles())}}]),t}(l.a.Component),U=function(e){var t=e.callback,n=e.keyCode;return l.a.createElement(x,{callback:function(e){return e.keyCode===n&&t()}})},Q=function(e){var t=e.callback;return l.a.createElement(U,{callback:t,keyCode:13})},F=n(169),Z=n(189),Y=n.n(Z),J=function(e,t){return String(Object(C.a)(Array(t+1)).join("0")+e).slice(-t)},H=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.timeLeftMS,this.props.warningZone;var e=this.props.timeLeftMS/1e3/60,t=this.props.timeLeftMS/1e3%60,n=this.props.timeLeftMS%1e3;return l.a.createElement("div",{className:Y.a.timer},J(0|e,2),":",J(0|t,2),":",J(n,3))}}]),t}(l.a.Component);H.defaultProps={warningZone:1e4};var V=H,X=n(190),$=n.n(X),ee=0,te=1,ne=2,re=function(){function e(t){var n=t.time,r=t.tickMS,i=void 0===r?50:r,s=t.almostDoneMS,o=void 0===s?1e4:s,c=t.maxTimeLimit;Object(a.a)(this,e),this.time=n,this.tickMS=i,this.almostDoneMS=o,this.maxTimeLimit=c,console.log({time:n,tickMS:i,almostDoneMS:o}),this._createStopwatch(this.time,this.tickMS,this.almostDoneMS)}return Object(i.a)(e,[{key:"onTick",value:function(e){this._stopwatch.onTime(e)}},{key:"unbindTick",value:function(){this._stopwatch.removeAllListeners("time")}},{key:"onAlmostDone",value:function(e){this._stopwatch.onAlmostDone(e)}},{key:"onDone",value:function(e){this._stopwatch.onDone(e)}},{key:"start",value:function(){this._stopwatch.start()}},{key:"stop",value:function(){this._stopwatch.stop()}},{key:"isRunning",value:function(){return this._stopwatch.state===te}},{key:"isStopped",value:function(){return this._stopwatch.state===ee}},{key:"isDone",value:function(){return this._stopwatch.state===ne}},{key:"_createStopwatch",value:function(e,t,n){this._stopwatch=new $.a(e,{refreshRateMS:t,almostDoneMS:n})}},{key:"changeTime",value:function(e){if(!this.isDone()){this._stopwatch.ms+e>=this.maxTimeLimit&&this._stopwatch.reset(this.maxTimeLimit);var t=this.isRunning();this._stopwatch.ms+e<=0?(this.stop(),this._stopwatch.emit("done"),this._stopwatch.doneFired=!0):this._stopwatch.reset(this._stopwatch.ms+e),t&&this.start()}}},{key:"ms",get:function(){return this._stopwatch.ms}}]),e}();re.EVENTS={TICK:"TICK",ALMOST_DONE:"ALMOST_DONE",DONE:"DONE"};var ae=re,ie=n(195),se=n.n(ie),oe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(o.a)(t).call(this,e))).tick=function(){n.setState({timeLeft:n.timer.ms}),n.timer.ms>3e4?F.a.setNormal():n.timer.ms>1e4?F.a.setWarning():F.a.setDanger()},n.changeTimeLeft=function(e){n.indicateTimeDiff(e),n.setState(function(t){var n=t.timeLeft+e;return console.log(n),{timeLeft:n>0?n:0}}),n.timer.changeTime(1e3*e)},n.onWrongLetter=function(){Object(P.a)(n);n.changeTimeLeft(n.state.wrongAnswerPenalty),n.props.onWrongAnswer(n.state.questionId)},n.indicateTimeDiff=function(e){var t=setTimeout(function(){n.removeTimeDiffNotification(t)},3e3);n.addTimeDiffNotification(t,e)},n.addTimeDiffNotification=function(e,t){n.setState(function(n){var r=Object(D.a)({},n.timeDiffs);return r[e]=t,{timeDiffs:r}})},n.removeTimeDiffNotification=function(e){n.setState(function(t){var n=Object(D.a)({},t.timeDiffs);return delete n[e],{timeDiffs:n}})},n.onCorrectAnswer=function(){Object(z.b)(),n.timer.stop(),n.setState({loading:!0,correctAnswerAnimation:!0},function(){n.props.onCorrectAnswer(n.state.questionId).then(function(e){var t=e.timeShift,r=e.totalScore;n.changeTimeLeft(t),setTimeout(function(){return n.loadQuestion(r)},1e3)})})},n.onNoMoreQuestions=function(){n.timer.stop(),n.setState({loading:!1,questionId:null,questionText:null,correctAnswer:null,wrongLettersGiven:0},function(){return n.props.onWin()})},n.skipQuestion=function(){n.timer.stop(),n.props.onSkipAnswer(n.state.questionId).then(function(e){var t=e.timeShift,r=e.totalScore;Object(z.c)(),n.changeTimeLeft(t),n.loadQuestion(r)})},n.renderTimeDiffNotifications=function(){return Object.keys(n.state.timeDiffs).map(function(e){var t=n.state.timeDiffs[e],r=t<0?se.a.red:se.a.blue,a=t<0?"":"+";return l.a.createElement("span",{className:[se.a.timeDiff,r].join(" "),key:"notification_".concat(e)},t," "+a)})},n.maxWrongLetters=3,n.state={loading:!1,correctAnswerAnimation:!1,questionId:null,questionText:null,correctAnswer:null,wrongLettersGiven:0,timeLeft:n.props.time,correctAnswerReward:n.props.correctAnswerReward,wrongAnswerPenalty:-n.props.wrongAnswerPenalty,skipQuestionPenalty:-n.props.skipQuestionPenalty,timeDiffs:{},maxTimeLimit:n.props.maxTimeLimit,score:0},n.timer=new ae({time:n.props.time,maxTimeLimit:n.props.maxTimeLimit}),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;j(g.a),this.tickingSound=setInterval(function(){e.timer.isRunning()&&Object(z.a)()},1e3)}},{key:"componentWillUnmount",value:function(){this.timer.unbindTick(),clearInterval(this.tickingSound),F.a.setNormal()}},{key:"componentDidMount",value:function(){this.loadQuestion(),this.timer.onTick(this.tick),this.timer.onDone(this.props.onLose)}},{key:"loadQuestion",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({loading:!0,correctAnswerAnimation:!1},function(){e.timer.stop(),e.props.questionGetter().then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.id,a=n.question,i=n.answer,s=n.category;return e.timer.start(),e.setState({questionId:r,questionText:a,categoryName:s,correctAnswer:i,wrongLettersGiven:0,loading:!1,score:t})}).catch(function(t){if(400===t.response.status&&3===t.response.data.errorCode)return e.onNoMoreQuestions()})})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.questionId&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:se.a.clockWrapper},l.a.createElement(V,{timeLeftMS:this.state.timeLeft}),this.renderTimeDiffNotifications()),l.a.createElement("div",{className:se.a.points+" regular-text"},"Punkty: ",this.state.score),l.a.createElement("p",{className:se.a.categoryName},"KATEGORIA: ",this.state.categoryName),l.a.createElement("div",{className:se.a.questionContent}," ",this.state.questionText," "),l.a.createElement(G,{key:"answer_".concat(this.state.questionId),correctAnswer:this.state.correctAnswer,onWrongLetter:this.onWrongLetter,onCorrectAnswer:this.onCorrectAnswer}),!this.state.loading&&!this.state.correctAnswerAnimation&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:se.a.description}," Naci\u015bnij ENTER aby pomin\u0105\u0107 pytanie (Tracisz od razu 5 sekund) "),l.a.createElement(Q,{callback:this.skipQuestion}))),this.state.loading&&l.a.createElement(v,null))}}]),t}(l.a.Component),ce=n(196),ue={fontSize:"5rem",marginBotton:"1rem",marginTop:"-1rem"},le={height:"33rem",marginTop:"2rem"},me=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).skipSceneDisabled=!0,n.onAnyKeyPressed=null,n.callback=function(e){n.skipSceneDisabled||n.props.onAnyKeyPressed()},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.skipSceneDisabled=!1},5e3)}},{key:"getPlayerId",value:function(){return/(?!.*\/)(.*)$/.exec(this.props.playerId)[0]}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"regular-text"},l.a.createElement("div",{style:ue},"GRATULACJE"),l.a.createElement("div",null,"UDA\u0141O CI SI\u0118 DOTRWA\u0106 DO KO\u0143CA I WYCZERPA\u0106 ZESTAW PYTA\u0143"),l.a.createElement("div",null,"NIE WIELU GRACZY ZOBACZY TEN EKRAN"),l.a.createElement("div",null,"Tw\xf3j wynik: ",this.props.points),l.a.createElement("div",null,l.a.createElement("span",null,"Gracz: ",this.props.playerName),l.a.createElement("span",null," ID: ",this.getPlayerId())),l.a.createElement("div",null,"Odbierz wydruk z wynikiem"),l.a.createElement("img",{style:le,src:ce,alt:"happyface"}),l.a.createElement(x,{callback:this.callback})))}}]),t}(l.a.Component),pe=n(197),de={fontSize:"5rem",marginBotton:"1rem",marginTop:"-1rem"},fe={height:"35rem",marginTop:"2rem"},he=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).skipSceneDisabled=!0,n.onAnyKeyPressed=null,n.callback=function(e){n.skipSceneDisabled||n.props.onAnyKeyPressed()},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;_(O.a),setTimeout(function(){e.skipSceneDisabled=!1},5e3)}},{key:"getPlayerId",value:function(){return/(?!.*\/)(.*)$/.exec(this.props.playerId)[0]}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"regular-text"},l.a.createElement("div",{style:de},"KONIEC CZASU"),l.a.createElement("div",null,"Tw\xf3j wynik: ",this.props.points),l.a.createElement("div",null,l.a.createElement("span",null,"Gracz: ",this.props.playerName),l.a.createElement("span",null," ID: ",this.getPlayerId())),l.a.createElement("div",null,"Odbierz wydruk z wynikiem"),l.a.createElement("img",{style:fe,src:pe,alt:"Explosion"}),l.a.createElement(x,{callback:this.callback})))}}]),t}(l.a.Component),ye=n(159),ve=n(160),we=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).onKeyPressed=function(e){Object(z.d)(),n.props.requiredKeyCodes.map(function(t){t===ve(e.keyCode)&&n.props.onRequiredKeyPress(ve(e.keyCode))})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("keydown",this.onKeyPressed)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPressed)}},{key:"render",value:function(){var e=this;return l.a.createElement("span",{onKeyDown:function(t){return e.onKeyDown(t)}},l.a.createElement(ye.a,null))}}]),t}(l.a.Component),be=n(198),Ee={fontSize:"3rem",marginTop:"1rem"},ge=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.onEnterOrSpacePress;return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:be,alt:"Logo"}),l.a.createElement("div",{style:Ee},"NACI\u015aNIJ ENTER ABY ROZPOCZ\u0104\u0106",l.a.createElement(we,{requiredKeyCodes:["enter","space"],onRequiredKeyPress:e})))}}]),t}(l.a.Component),ke=n(199),Oe=n.n(ke),Ae=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).skipSceneDisabled=!0,n.callback=function(e){n.skipSceneDisabled||n.props.onAnyKeyPressed()},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.skipSceneDisabled=!1},5e3)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Oe.a.scoreTitle},"TABLICA WYNIK\xd3W"),l.a.createElement("div",{className:"regular-text"},l.a.createElement("ol",{className:Oe.a.wrapper},this.props.leaderBoard.map(function(e,t){return l.a.createElement("li",{key:t,className:Oe.a.clear},l.a.createElement("span",{className:Oe.a.playerName},e.playerName+" (ID:"+e.playerId+")")," ",l.a.createElement("span",{className:Oe.a.playerScore}," ","LICZBA PUNKT\xd3W: "+e.result))})),l.a.createElement(x,{callback:this.callback})))}}]),t}(l.a.Component),Se=3e4,je=3e4,_e=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).reset=function(){n.setState({scene:m.IDLE,playerName:"",sessionId:null,loading:!1}),n.idleTimer.reset()},n.leaderBoard=function(){n.setState({loading:!0},function(){n.props.api.getLeaderboard().then(function(e){var t=e.leaderBoard;n.setState({leaderBoard:t,scene:m.LEADERBOARD,playerName:"",sessionId:null,loading:!1})})}),n.idleTimer.reset()},n.onNameEntered=function(e){n.setState({loading:!0,errorMessage:""},function(){n.props.api.createSession(e).then(function(t){var r=t.sessionId,a=t.timeLimit,i=t.maxTimeLimit,s=t.correctAnswerTimeReward,o=t.wrongAnswerTimePenalty,c=t.skipAnswerTimePenalty;n.setState({playerName:e,scene:m.MAIN,sessionId:r,loading:!1,sessionTime:1e3*a,correctAnswerReward:s,wrongAnswerPenalty:o,skipAnswerPenalty:c,maxTimeLimit:1e3*i})}).catch(function(e){if(400===e.response.status){var t=e.response.data;n.setState({loading:!1,errorMessage:t.errorDesc})}throw e})})},n.onWin=function(e){n.setState({loading:!0},function(){n.props.api.saveWinGame({sessionId:n.state.sessionId,score:e}).then(function(e){var t=e.totalScore;n.setState({scene:m.WIN,loading:!1,score:t})})})},n.onLose=function(e){n.setState({loading:!0},function(){n.props.api.saveLoseGame({sessionId:n.state.sessionId,score:e}).then(function(e){var t=e.totalScore;n.setState({scene:m.LOSE,loading:!1,score:t})})})},n.onIdleEnterOrSpacePress=function(e){"space"===e&&n.leaderBoard(),"enter"===e&&n.onEnterPress()},n.onEnterPress=function(){n.setState({loading:!0},function(){new Promise(function(e){setTimeout(function(){n.setState({scene:m.MENU,loading:!1})},500)})})},n.onEscapePress=function(){n.setState({loading:!0},function(){new Promise(function(e){setTimeout(function(){n.setState({scene:m.IDLE,loading:!1})},500)})})},n.onSpacePress=function(){n.setState({loading:!0},function(){new Promise(function(e){setTimeout(function(){n.setState({scene:m.LEADERBOARD,loading:!1})},500)})})},n.onLoseSceneAnyKeyPress=function(){n.leaderBoard()},n.onWinSceneAnyKeyPress=function(){n.leaderBoard()},n.onLeaderboardSceneAnyKeyPress=function(){n.reset()},n.state={scene:m.MENU,playerName:"",sessionId:null,loading:!1,leaderBoard:[],errorMessage:"",score:0,sessionTime:Se,idleMaxTime:je},n.idleTimer=null,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval(function(){if(e.idleTimer){var t=e.state.scene,n=e.idleTimer.getElapsedTime();t==m.MENU||t==m.LEADERBOARD?n>e.state.idleMaxTime&&e.reset():t==m.LOSE||t==m.WIN?n>e.state.idleMaxTime&&e.leaderBoard():e.idleTimer.reset()}},1e3)}},{key:"componentDidUpdate",value:function(e){this.props.scene!==e.scene&&(this.idleTimer.reset(),F.a.setNormal())}},{key:"render",value:function(){var e=this;return l.a.createElement(f.a,{ref:function(t){e.idleTimer=t},onActive:this.onActive,onIdle:this.onIdle,timeout:this.state.timeout,startOnLoad:!0},l.a.createElement(l.a.Fragment,null,this.state.scene===m.WIN&&l.a.createElement(me,{playerId:this.state.sessionId,playerName:this.state.playerName,points:this.state.score,onAnyKeyPressed:this.onWinSceneAnyKeyPress}),this.state.scene===m.LOSE&&l.a.createElement(he,{playerId:this.state.sessionId,playerName:this.state.playerName,points:this.state.score,onAnyKeyPressed:this.onLoseSceneAnyKeyPress}),this.state.scene===m.MENU&&l.a.createElement(N,{onNameEntered:this.onNameEntered,onEscapePress:this.onEscapePress,errorDesc:this.state.errorMessage}),this.state.scene===m.MAIN&&l.a.createElement(oe,{playerName:this.state.playerName,sessionId:this.state.sessionId,onWin:this.onWin,onLose:this.onLose,questionGetter:function(){return e.props.api.getNextQuestion({sessionId:e.state.sessionId})},onCorrectAnswer:function(t){return e.props.api.saveGoodAnswer({sessionId:e.state.sessionId,questionId:t})},onWrongAnswer:function(t){return e.props.api.saveBadAnswer({sessionId:e.state.sessionId,questionId:t})},onSkipAnswer:function(t){return e.props.api.skipQuestion({sessionId:e.state.sessionId,questionId:t})},correctAnswerReward:this.state.correctAnswerReward,wrongAnswerPenalty:this.state.wrongAnswerPenalty,skipQuestionPenalty:this.state.skipAnswerPenalty,time:this.state.sessionTime,maxTimeLimit:this.state.maxTimeLimit}),this.state.scene===m.IDLE&&l.a.createElement(ge,{onEnterOrSpacePress:this.onIdleEnterOrSpacePress}),this.state.scene===m.LEADERBOARD&&l.a.createElement(Ae,{leaderBoard:this.state.leaderBoard,onAnyKeyPressed:this.onLeaderboardSceneAnyKeyPress}),this.state.loading&&l.a.createElement(v,null)))}}]),t}(l.a.Component);t.a=_e},34:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(0),i=n.n(a),s=n(15),o=n(45),c=n(174),u=n.n(c),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.seconds,n=void 0===t?3:t,s=e.onFinished,c=void 0===s?function(){}:s,l=Object(a.useRef)(),m=Object(a.useState)(n),p=Object(r.a)(m,2),d=p[0],f=p[1],h=Object(a.useState)(!1),y=Object(r.a)(h,2),v=y[0],w=y[1],b=Object(a.useCallback)(function(){f(function(e){return e-1})},[]);return Object(a.useEffect)(function(){d<0&&w(!0)},[c,d]),Object(a.useEffect)(function(){v&&(c(),clearInterval(l.current))},[v,c]),Object(a.useEffect)(function(){return l.current=setInterval(b,1e3),function(){return clearInterval(l.current)}},[b]),i.a.createElement("div",{className:u.a.countdown},i.a.createElement(o.b,{style:{animationIterationCount:n+1},className:u.a.number},v?null:d>=0?d:null))},m=(n(68),n(175));t.default=function(e){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),c=n[0],u=n[1];return c?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Background,null),i.a.createElement(s.default,null,i.a.createElement(l,{onFinished:function(){return u(!1)}}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,null,"[To jest stara wersja Gry. Nied\u0142ugo zostanie od\u015bwie\u017cona. :-) ] "),i.a.createElement(m.a,null))}},68:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),i=n.n(a),s=n(69),o=n(15),c=n(45),u=n(46);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=e.history,a=Object(r.a)(e,["title","history"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.b,{onKeyEvent:function(){return n.push("/")}}),i.a.createElement(o.Background,null),i.a.createElement(o.default,null,i.a.createElement(c.a,null,"Screen ",t," is not ready"),i.a.createElement(c.b,null,"Press [ESC] to return"),i.a.createElement("pre",null,JSON.stringify(a,null,2)),i.a.createElement("div",{style:{position:"relative",left:"20px",opacity:.5}},i.a.createElement(s.a,{maxLines:10})," ")))}}}]);
//# sourceMappingURL=screen-12--Gameplay.cd4aa6a5.chunk.js.map